---
- name: "D1D2 Set up UX Development Environment"
  block:
    - name: "Install nodejs"
      shell: |
        brew upgrade;
        brew install node;
        sudo npm install -g @vue/cli;
        brew install yarn;
      args:
        chdir: "{{ provisioner.inventory.group_vars.all.Jannah.global.ansible.working_dir }}"
      tags:
        - "d1d2-ux-dev-env-setup"
        - "d1d2-ux-install-node"
        - "d1d2-operator"

  rescue:
    - name: "D1D2 Set up UX Development Environment Exception"
      ansible.builtin.debug:
        msg: 'D1D2 Set up UX Development Environment Exception'
      register: debug_resources
  ignore_errors: false
